<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
        <title>视频</title>
        <link rel="icon" href="/pics/icon/video.gif">
        <link rel="stylesheet" href="/css/public.css">
        <link rel="stylesheet" href="https://unpkg.com/video.js/dist/video-js.css">

        <style>
            div.webs{
                display: flex;
                overflow: hidden;
            }
            .webs>.videoTitle{
                flex:1;
                float: left;
                flex-direction: column;
                margin-right: 20px;
                height: 90vh;
                overflow-y:auto;
            }
            .webs>.playVideo{
                flex:1;
                overflow: hidden;
                margin-left: 20px;
                padding: 20% 0;
                float: right; 
                overflow: auto;
            }
            .video-js{
                width:100%;
                height:100%;
            }
            @media screen and (max-device-width:600px){
                div.webs{
                    display: block;
                }
                .webs>.videoTitle{
                    writing-mode: vertical-rl;
                    width:100%;
                    height:55vh;
                    overflow-x: auto;
                }
                .webs p.links{
                    margin: 10px 10px;
                    height: 50vh;
                }
                .webs>.playVideo{
                    width: 100%;
                    padding: 0;
                }
                video.vjs-tech{
                    position: relative!important;
                }
            }
        </style>
        <script src="https://unpkg.com/video.js/dist/video.min.js"></script>
        <script src="https://unpkg.com/hls.js@latest"></script>
    </head>
    <body>
        <header id="header-container"></header>
        <script src="/script/headers.js"></script>    
        <div class="webs">
            <div class="videoTitle">
                <p class="links">
                    <a href="https://www.bilibili.com/video/BV1jq4y1y7Zk/">晴空雨3：第一集</a>
                    <button class="qky" data_video="/vids/m3u8s/qky3_1/qky3_1.m3u8" mp4_video="/vid/qky3_1.mp4">播放视频</button>
                </p>         
                <p class="links">
                    <a href="https://www.bilibili.com/video/BV1Lq4y1b7ad/">晴空雨3：第二集</a>
                    <button class="qky" data_video="/vids/m3u8s/qky3_2/qky3_2.m3u8" mp4_video="/vid/qky3_2.mp4">播放视频</button>
                </p>
                <p class="links">
                    <a href="https://www.bilibili.com/video/BV1nu411X7WX/">晴空雨3：第三集</a>
                    <button class="qky" data_video="/vids/m3u8s/qky3_3/qky3_3.m3u8" mp4_video="/vid/qky3_3.mp4">播放视频</button>
                </p>       
            </div>
            <div class="playVideo">
                <video id="myVideo" class="video-js vjs-big-play-centered" controls></video>
            </div>
        </div>
    </body>
    <script>    
        var myVideo = videojs('myVideo',{
            bigPlayButton : true, 
            textTrackDisplay : false, 
            posterImage: false,
            errorDisplay : false,
        });
        var qky = document.querySelectorAll('.qky');
        qky.forEach(function(button){
            button.addEventListener('click', function() {
                var videoUrl = this.getAttribute('data_video'); // 获取视频URL
                console.log(videoUrl);
                myVideo.src({
                  src: videoUrl,
                  type: 'application/x-mpegURL',
                  provider: 'hls'
                });
                // myVideo.play(); 播放视频
            });
        });
    </script>
</html>